<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DodoWheels 文档管理系统</title>
<style>
body, html{
    margin:0; padding:0;
    width:100%; height:100%;
    font-family:'Segoe UI', Arial, sans-serif;
    background:#0a0a0a;
    color:#fff;
    overflow:hidden;
}
#loginPage{display:flex; flex-direction:column; align-items:center; justify-content:center; height:100vh; text-align:center;}
#loginPage img{width:120px; margin-bottom:20px;}
#loginPage h1{margin-bottom:15px; color:#1e90ff;}
#loginPage input{width:100%; max-width:300px; padding:10px; margin:5px 0; border-radius:5px; border:none; outline:none; box-sizing:border-box;}
#loginPage button{width:100%; max-width:320px; padding:10px; margin-top:15px; border:none; border-radius:5px; background:linear-gradient(90deg,#1e90ff,#00bfff); color:#fff; font-weight:bold; cursor:pointer; box-sizing:border-box;}
#errorMsg{color:#ff4d4d; margin-top:10px; display:none;}

#toolPage{display:none; padding:20px;}
h1{text-align:center; margin:20px 0; font-size:2em; color:#00bfff;}
.tab-bar{display:flex; justify-content:center; margin-bottom:20px; border-bottom:2px solid #00bfff50;}
.tab-button{padding:10px 20px; cursor:pointer; background:none; border:none; color:#aaa; font-weight:bold; transition:0.3s;}
.tab-button.active{color:#00bfff; border-bottom:3px solid #00bfff;}
#filesContainer{display:grid; grid-template-columns:repeat(auto-fill,minmax(220px,1fr)); gap:20px; max-width:1200px; margin:0 auto;}
.fileCard{background:#111; border-radius:12px; padding:20px; text-align:center; box-shadow:0 0 15px #7FDBFF; transition: transform 0.3s, box-shadow 0.3s, background 0.3s; display:flex; flex-direction:column; justify-content:space-between; align-items:center;}
.fileCard:hover{transform:translateY(-8px) scale(1.02); box-shadow:0 0 40px #7FDBFF,0 0 60px #00AEEF; background:linear-gradient(135deg,#0a0a0a,#111c2f);}
.fileIcon{font-size:50px; margin-bottom:10px; transition: transform 0.3s;}
.fileCard:hover .fileIcon{transform:scale(1.2) rotate(10deg);}
.fileName{color:#7FDBFF; text-align:center; margin-bottom:10px; word-break:break-word; transition: color 0.3s, text-shadow 0.3s;}
.fileCard:hover .fileName{color:#00AEEF; text-shadow:0 0 10px #00AEEF,0 0 20px #7FDBFF;}
.fileInfo{font-size:0.9em; color:#00bfffaa; margin-top:5px; text-align:center; transition: color 0.3s;}
.fileCard:hover .fileInfo{color:#7FDBFF;}
.fileLink{display:block; width:100%; padding:8px 0; margin-top:10px; border-radius:5px; background:linear-gradient(90deg,#1e90ff,#00bfff); color:#fff; text-decoration:none; font-weight:bold; transition:0.3s;}
.fileLink:hover{background:linear-gradient(90deg,#00bfff,#1e90ff);}

@media(max-width:600px){#loginPage input,#loginPage button{width:90%;}}
</style>
</head>
<body>

<div id="loginPage">
    <img src="logo.png" alt="Logo">
    <h1>DodoWheels 文档管理系统</h1>
    <input type="text" id="username" placeholder="用户名">
    <input type="password" id="password" placeholder="密码">
    <button onclick="login()">登录</button>
    <div id="errorMsg">用户名或密码错误</div>
</div>

<div id="toolPage">
    <h1>DodoWheels 文档管理系统</h1>
    <div class="tab-bar" id="tabBar"></div>
    <div id="filesContainer"></div>
</div>

<script>
// 用户数据
const USERS={
    "alice":{
        password:"123456",
        folders:{
            "Sales":[
                {name:"report1.pdf", size:"1.2MB", date:"2025-09-06"},
                {name:"plan.pdf", size:"800KB", date:"2025-09-05"}
            ]
        }
    },
    "bob":{
        password:"abcdef",
        folders:{
            "Warehouse":[
                {name:"inventory.pdf", size:"2.3MB", date:"2025-08-30"},
                {name:"layout.pdf", size:"900KB", date:"2025-08-28"}
            ]
        }
    }
};
const fileIcons={"pdf":"📕","default":"📁"};
let currentUser="";

// 登录
function login(){
    const username=document.getElementById("username").value.trim();
    const password=document.getElementById("password").value.trim();
    const errorMsg=document.getElementById("errorMsg");
    if(USERS[username] && USERS[username].password===password){
        currentUser=username;
        document.getElementById("loginPage").style.display="none";
        document.getElementById("toolPage").style.display="block";
        renderTabs();
    }else{errorMsg.style.display="block";}
}

// 渲染 Tab
function renderTabs(){
    const tabBar=document.getElementById("tabBar");
    tabBar.innerHTML="";
    const folders=Object.keys(USERS[currentUser].folders);
    folders.forEach((folder,index)=>{
        const btn=document.createElement("button");
        btn.className="tab-button";
        if(index===0) btn.classList.add("active");
        btn.textContent=folder;
        btn.onclick=(e)=>showTab(folder,e);
        tabBar.appendChild(btn);
    });
    showTab(folders[0]);
}

// 显示 Tab 文件
function showTab(folder,event){
    if(event){
        document.querySelectorAll(".tab-button").forEach(btn=>btn.classList.remove("active"));
        event.currentTarget.classList.add("active");
    }
    const filesContainer=document.getElementById("filesContainer");
    filesContainer.innerHTML="";
    const files=USERS[currentUser].folders[folder];
    files.forEach(f=>{
        const card=document.createElement("div");
        card.className="fileCard";
        const icon=document.createElement("div");
        icon.className="fileIcon";
        icon.textContent=fileIcons[f.name.split(".").pop().toLowerCase()] || fileIcons["default"];
        const name=document.createElement("div");
        name.className="fileName";
        name.textContent=f.name;
        const info=document.createElement("div");
        info.className="fileInfo";
        info.textContent=`大小: ${f.size} 上传日期: ${f.date}`;
        const link=document.createElement("a");
        link.className="fileLink";
        // 文件 URL 假设服务器上路径: /files/用户名/文件夹/文件名
        link.href=`/files/${currentUser}/${folder}/${f.name}`;
        link.target="_blank";
        link.textContent="打开文件";
        card.appendChild(icon);
        card.appendChild(name);
        card.appendChild(info);
        card.appendChild(link);
        filesContainer.appendChild(card);
    });
}
</script>

</body>
</html>
