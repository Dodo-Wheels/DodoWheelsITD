<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DodoWheels ÊñáÊ°£‰∏≠ÂøÉ</title>
<style>
body {
    margin:0; font-family:'Segoe UI',Arial,sans-serif; background:#0a0a0a; color:#fff;
}

/* ÁôªÂΩï */
#loginPage {
    display:flex; flex-direction:column; align-items:center; justify-content:center; height:100vh; text-align:center; padding:0 10px; box-sizing:border-box;
}
#loginPage input, #loginPage button {
    width:100%; max-width:300px; padding:12px; margin:5px 0; border:none; border-radius:8px; outline:none; box-sizing:border-box;
}
#loginPage input { background:#1f2a38; color:#fff; }
#loginPage input::placeholder { color:#8b9cb5; }
#loginPage button {
    background:linear-gradient(90deg,#4facfe,#00f2fe); color:#fff; font-weight:bold; cursor:pointer; transition:0.3s;
}
#loginPage button:hover { background:linear-gradient(90deg,#00f2fe,#4facfe); transform:scale(1.05); }
.error { color:#ff4d4d; margin-top:10px; display:none; }

/* Êñá‰ª∂È°µÈù¢ */
#filePage { display:none; padding:20px; box-sizing:border-box; }
h1 { text-align:center; margin-bottom:20px; color:#7FDBFF; }

/* Tab Ê†è */
.tab-bar { display:flex; justify-content:center; margin-bottom:20px; border-bottom:2px solid #00bfff50; flex-wrap:wrap; }
.tab-button {
    padding:10px 20px; margin:3px; cursor:pointer; background:none; border:none; color:#aaa; font-weight:bold; font-size:1em; transition:0.3s; border-radius:8px;
}
.tab-button.active { color:#00bfff; border-bottom:3px solid #00bfff; }

/* Êñá‰ª∂Âç°Áâá */
#filesContainer {
    display:grid; grid-template-columns: repeat(auto-fill,minmax(220px,1fr)); gap:20px; max-width:1000px; margin:0 auto;
}
.fileCard {
    background:#111; border-radius:12px; padding:20px; text-align:center; box-shadow:0 0 15px #7FDBFF; transition: transform 0.2s;
    display:flex; flex-direction:column; justify-content:space-between; align-items:center;
}
.fileCard:hover { transform:translateY(-5px); box-shadow:0 0 30px #7FDBFF,0 0 45px #00AEEF; }
.fileCard .fileIcon { font-size:40px; margin-bottom:10px; }
.fileCard .fileName { margin-bottom:10px; color:#7FDBFF; word-break:break-word; text-align:center; }
.fileCard a {
    margin-top:10px; padding:8px 0; width:100%; border-radius:8px; background:linear-gradient(90deg,#7FDBFF,#00AEEF); color:#000; font-weight:bold; text-decoration:none; transition:0.3s;
}
.fileCard a:hover { background:linear-gradient(90deg,#00AEEF,#7FDBFF); color:#fff; }
</style>
</head>
<body>

<!-- ÁôªÂΩïÈ°µÈù¢ -->
<div id="loginPage">
    <h1>DodoWheels ÊñáÊ°£‰∏≠ÂøÉ</h1>
    <input type="text" id="username" placeholder="Áî®Êà∑Âêç">
    <input type="password" id="password" placeholder="ÂØÜÁ†Å">
    <button onclick="login()">ÁôªÂΩï</button>
    <div class="error" id="errorMsg">Áî®Êà∑ÂêçÊàñÂØÜÁ†ÅÈîôËØØ</div>
</div>

<!-- Êñá‰ª∂È°µÈù¢ -->
<div id="filePage">
    <h1>DodoWheels ÊñáÊ°£‰∏≠ÂøÉ</h1>
    <div class="tab-bar" id="tabsContainer"></div>
    <div id="filesContainer"></div>
</div>

<script>
// Áî®Êà∑ÈÖçÁΩÆ
const USERS = {
    "alice": {
        password: "123456",
        folders: {
            "Sales": ["report1.pdf","plan.xlsx","summary.pdf"],
            "Marketing": ["market_plan.pdf","ad_campaign.pdf"]
        }
    },
    "bob": {
        password: "abcdef",
        folders: {
            "Warehouse": ["inventory.pdf","layout.xlsx"]
        }
    }
};

// Êñá‰ª∂Á±ªÂûãÂõæÊ†á
const fileIcons = {
    "pdf": "üìÑ",
    "xls": "üìä",
    "xlsx": "üìä",
    "doc": "üìÉ",
    "docx": "üìÉ",
    "png": "üñºÔ∏è",
    "jpg": "üñºÔ∏è",
    "jpeg": "üñºÔ∏è",
    "default": "üìÅ"
};

let currentUser = null;

// ÁôªÂΩï
function login(){
    const username = document.getElementById('username').value.trim();
    const password = document.getElementById('password').value.trim();
    const errorMsg = document.getElementById('errorMsg');

    if(USERS[username] && USERS[username].password === password){
        currentUser = username;
        sessionStorage.setItem("user", username);
        document.getElementById('loginPage').style.display='none';
        document.getElementById('filePage').style.display='block';
        initTabs();
    } else {
        errorMsg.style.display='block';
    }
}

// ÂàùÂßãÂåñ Tab
function initTabs(){
    const tabsContainer = document.getElementById('tabsContainer');
    tabsContainer.innerHTML='';
    const userFolders = USERS[currentUser].folders;

    for(let folderName in userFolders){
        const tab = document.createElement('button');
        tab.className='tab-button';
        tab.textContent=folderName;
        tab.dataset.folder=folderName;
        tab.addEventListener('click', ()=>{
            document.querySelectorAll('.tab-button').forEach(t=>t.classList.remove('active'));
            tab.classList.add('active');
            renderFiles(folderName);
        });
        tabsContainer.appendChild(tab);
    }

    // ÈªòËÆ§ÊòæÁ§∫Á¨¨‰∏Ä‰∏™ Tab
    const firstTab = tabsContainer.querySelector('.tab-button');
    if(firstTab){
        firstTab.classList.add('active');
        renderFiles(firstTab.dataset.folder);
    }
}

// Ê∏≤ÊüìÊñá‰ª∂
function renderFiles(folderName){
    const filesContainer = document.getElementById('filesContainer');
    filesContainer.innerHTML='';
    const files = USERS[currentUser].folders[folderName];
    if(!files) return;
    files.forEach(f=>{
        const ext = f.split('.').pop().toLowerCase();
        const icon = fileIcons[ext] || fileIcons["default"];
        const card = document.createElement('div');
        card.className='fileCard';
        card.innerHTML = `
            <div class="fileIcon">${icon}</div>
            <div class="fileName">${f}</div>
            <a href="files/${currentUser}/${folderName}/${encodeURIComponent(f)}" target="_blank">Êü•Áúã/‰∏ãËΩΩ</a>
        `;
        filesContainer.appendChild(card);
    });
}

// È°µÈù¢Âà∑Êñ∞Ëá™Âä®ÁôªÂΩï
window.addEventListener('load', ()=>{
    const savedUser = sessionStorage.getItem('user');
    if(savedUser && USERS[savedUser]){
        currentUser = savedUser;
        document.getElementById('loginPage').style.display='none';
        document.getElementById('filePage').style.display='block';
        initTabs();
    }
});
</script>

</body>
</html>
