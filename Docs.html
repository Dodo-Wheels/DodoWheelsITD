<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>DodoWheels 内部文档管理系统</title>
<style>
    body {
        margin: 0;
        font-family: 'Segoe UI', Arial, sans-serif;
        background-color: #121212;
        color: #00bfff;
    }
    #loginPage {
        display: flex; flex-direction: column; align-items: center; justify-content: center;
        height: 100vh; text-align: center;
    }
    #loginPage h1 { color: #1e90ff; margin-bottom: 20px; }
    #loginPage input, #loginPage button {
        width: 250px; padding: 10px; margin: 5px 0;
        border: none; border-radius: 5px; outline: none;
    }
    #loginPage button {
        background: linear-gradient(90deg, #1e90ff, #00bfff); color: #fff; font-weight: bold;
        cursor: pointer;
    }
    .error { color: #ff4d4d; margin-top: 10px; display: none; }

    #toolPage { display: none; padding: 20px; }
    h1 { text-align: center; color: #1e90ff; }

    .tab-bar { display: flex; justify-content: center; margin-bottom: 20px; border-bottom: 2px solid #00bfff50; }
    .tab-button {
        padding: 10px 20px; border: none; background: none; cursor: pointer;
        color: #aaa; font-weight: bold;
    }
    .tab-button.active { color: #00bfff; border-bottom: 3px solid #00bfff; }

    .system { display: none; text-align: center; }
    .system.active { display: block; }

    .file-list { max-width: 400px; margin: 0 auto; }
    .file-list a {
        display: block; margin: 10px 0; padding: 10px;
        background: linear-gradient(90deg, #1e90ff, #00bfff);
        color: #fff; text-decoration: none; border-radius: 8px;
    }
</style>
</head>
<body>

<!-- 登录页 -->
<div id="loginPage">
    <h1>DodoWheels 内部文档管理系统</h1>
    <input type="text" id="username" placeholder="用户名">
    <input type="password" id="password" placeholder="密码">
    <button onclick="login()">登录</button>
    <div class="error" id="errorMsg">用户名或密码错误</div>
</div>

<!-- 工具页 -->
<div id="toolPage">
    <h1>DodoWheels 内部文档管理系统</h1>
    <div class="tab-bar" id="tabBar"></div>
    <div id="tabContent"></div>
</div>

<script>
    // 用户配置（用户名: 密码 + 可访问的tab）
    const users = {
        "admin": { password: "123456", tabs: ["web", "qbo", "odoo"] },
        "webuser": { password: "111111", tabs: ["web"] },
        "qbouser": { password: "222222", tabs: ["qbo"] },
        "odoouser": { password: "333333", tabs: ["odoo"] }
    };

    // 各 Tab 下的文件列表（模拟服务器文件夹）
    const files = {
        "web": [
            { name: "网站产品最新序号获取工具", url: "/files/web/tool1.exe" },
            { name: "网站价格更新工具", url: "/files/web/tool2.exe" }
        ],
        "qbo": [
            { name: "QBO产品名称调整工具", url: "/files/qbo/tool1.exe" }
        ],
        "odoo": [
            { name: "AI小助手", url: "/files/odoo/ai.exe" },
            { name: "价格查询工具", url: "/files/odoo/price.exe" }
        ]
    };

    let currentUser = null;

    function login() {
        const username = document.getElementById("username").value;
        const password = document.getElementById("password").value;
        const errorMsg = document.getElementById("errorMsg");

        if (users[username] && users[username].password === password) {
            currentUser = username;
            document.getElementById("loginPage").style.display = "none";
            document.getElementById("toolPage").style.display = "block";
            loadTabs();
        } else {
            errorMsg.style.display = "block";
        }
    }

    function loadTabs() {
        const tabBar = document.getElementById("tabBar");
        const tabContent = document.getElementById("tabContent");
        tabBar.innerHTML = "";
        tabContent.innerHTML = "";

        const tabs = users[currentUser].tabs;
        tabs.forEach((tab, i) => {
            // 创建 tab 按钮
            const btn = document.createElement("button");
            btn.textContent = tab.toUpperCase();
            btn.className = "tab-button" + (i === 0 ? " active" : "");
            btn.onclick = () => showTab(tab);
            tabBar.appendChild(btn);

            // 创建内容
            const div = document.createElement("div");
            div.className = "system" + (i === 0 ? " active" : "");
            div.id = "tab-" + tab;

            const h2 = document.createElement("h2");
            h2.textContent = tab.toUpperCase() + " 文件夹";
            div.appendChild(h2);

            const ul = document.createElement("div");
            ul.className = "file-list";
            files[tab].forEach(file => {
                const a = document.createElement("a");
                a.href = file.url;
                a.textContent = file.name;
                a.setAttribute("download", "");
                ul.appendChild(a);
            });
            div.appendChild(ul);

            tabContent.appendChild(div);
        });
    }

    function showTab(tab) {
        document.querySelectorAll(".tab-button").forEach(btn => btn.classList.remove("active"));
        document.querySelectorAll(".system").forEach(div => div.classList.remove("active"));
        document.querySelector(`#tabBar button:contains('${tab.toUpperCase()}')`);
        document.querySelector("#tab-" + tab).classList.add("active");

        // 高亮按钮
        [...document.querySelectorAll(".tab-button")].forEach(btn => {
            if (btn.textContent === tab.toUpperCase()) btn.classList.add("active");
        });
    }
</script>
</body>
</html>
