<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DodoWheels ÊñáÊ°£ÁÆ°ÁêÜÁ≥ªÁªü</title>
<style>
body, html{
    margin:0; padding:0;
    width:100%; height:100%;
    font-family:'Segoe UI', Arial, sans-serif;
    background:#0a0a0a;
    color:#fff;
    overflow:hidden;
}
#loginPage{display:flex; flex-direction:column; align-items:center; justify-content:center; height:100vh; text-align:center;}
#loginPage img{width:120px; margin-bottom:20px;}
#loginPage h1{margin-bottom:15px; color:#1e90ff;}
#loginPage input{width:100%; max-width:300px; padding:10px; margin:5px 0; border-radius:5px; border:none; outline:none; box-sizing:border-box;}
#loginPage button{width:100%; max-width:320px; padding:10px; margin-top:15px; border:none; border-radius:5px; background:linear-gradient(90deg,#1e90ff,#00bfff); color:#fff; font-weight:bold; cursor:pointer; box-sizing:border-box;}
#errorMsg{color:#ff4d4d; margin-top:10px; display:none;}

#toolPage{display:none; padding:20px; height:100vh; display:flex; flex-direction:column;}
h1{text-align:center; margin:20px 0; font-size:2em; color:#00bfff;}

/* Tab Ê†∑Âºè */
.tab-bar{display:flex; justify-content:center; margin-bottom:20px; border-bottom:2px solid #00bfff50;}
.tab-button{padding:10px 20px; cursor:pointer; background:none; border:none; color:#aaa; font-weight:bold; transition:0.3s;}
.tab-button.active{color:#00bfff; border-bottom:3px solid #00bfff;}

/* Êñá‰ª∂Âç°ÁâáÂ∏ÉÂ±Ä */
#filesContainer{
    flex:1;
    overflow-y:auto;
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(250px,1fr));
    gap:20px;
    max-width:1200px;
    margin:0 auto;
    padding:20px;
}

.fileCard{
    background:#111;
    border-radius:12px;
    padding:20px;
    text-align:center;
    box-shadow:0 0 10px rgba(0,191,255,0.4);
    transition: transform 0.3s, box-shadow 0.3s;
    display:flex;
    flex-direction:column;
    justify-content:space-between;
    border:1px solid rgba(0,191,255,0.3);
}
.fileCard:hover{
    transform:translateY(-6px);
    box-shadow:0 0 20px #00bfff;
}
.fileName{
    font-size:1.1em;
    color:#00bfff;
    font-weight:bold;
    margin-bottom:15px;
}
.fileBtn{
    padding:10px 0;
    border:none;
    border-radius:6px;
    font-weight:bold;
    cursor:pointer;
    transition:0.3s;
}
.fileBtn.download{
    background:linear-gradient(90deg,#1e90ff,#00bfff);
    color:#fff;
}
.fileBtn.download:hover{
    background:linear-gradient(90deg,#00bfff,#1e90ff);
}
.fileBtn.disabled{
    background:#333;
    color:#aaa;
    cursor:not-allowed;
}

.emptyMsg{
    grid-column:1 / -1;
    text-align:center;
    font-size:1.1em;
    color:#00bfffaa;
    margin-top:30px;
}

@media(max-width:600px){#loginPage input,#loginPage button{width:90%;}}
</style>
</head>
<body>

<div id="loginPage">
    <img src="logo.png" alt="Logo">
    <h1>DodoWheels ÊñáÊ°£ÁÆ°ÁêÜÁ≥ªÁªü</h1>
    <input type="text" id="username" placeholder="Áî®Êà∑Âêç">
    <input type="password" id="password" placeholder="ÂØÜÁ†Å">
    <button onclick="login()">ÁôªÂΩï</button>
    <div id="errorMsg">Áî®Êà∑ÂêçÊàñÂØÜÁ†ÅÈîôËØØ</div>
</div>

<div id="toolPage">
    <h1>DodoWheels ÊñáÊ°£ÁÆ°ÁêÜÁ≥ªÁªü</h1>
    <div class="tab-bar" id="tabBar"></div>
    <div id="filesContainer"></div>
</div>

<script>
// Áî®Êà∑Êï∞ÊçÆ
const USERS={
    "alice":{
        password:"123456",
        folders:{
            "Sales":[
                {name:"report1.pdf", size:"1.2MB", date:"2025-09-06", status:"download"},
                {name:"plan.docx", size:"800KB", date:"2025-09-05", status:"download"},
                {name:"budget.xlsx", size:"500KB", date:"2025-09-01", status:"disabled"}
            ]
        }
    },
    "bob":{
        password:"abcdef",
        folders:{
            "Warehouse":[
                {name:"inventory.pdf", size:"2.3MB", date:"2025-08-30", status:"download"},
                {name:"layout.jpg", size:"900KB", date:"2025-08-28", status:"disabled"}
            ]
        }
    }
};

let currentUser="";

// ÁôªÂΩï
function login(){
    const username=document.getElementById("username").value.trim();
    const password=document.getElementById("password").value.trim();
    const errorMsg=document.getElementById("errorMsg");
    if(USERS[username] && USERS[username].password===password){
        currentUser=username;
        document.getElementById("loginPage").style.display="none";
        document.getElementById("toolPage").style.display="flex";
        renderTabs();
    }else{
        errorMsg.style.display="block";
    }
}

// Ê∏≤Êüì Tab
function renderTabs(){
    const tabBar=document.getElementById("tabBar");
    tabBar.innerHTML="";
    const folders=Object.keys(USERS[currentUser].folders);
    folders.forEach((folder,index)=>{
        const btn=document.createElement("button");
        btn.className="tab-button";
        if(index===0) btn.classList.add("active");
        btn.textContent=folder;
        btn.onclick=(e)=>showTab(folder,e);
        tabBar.appendChild(btn);
    });
    showTab(folders[0]);
}

// ÊòæÁ§∫Êñá‰ª∂Âç°Áâá
function showTab(folder,event){
    if(event){
        document.querySelectorAll(".tab-button").forEach(btn=>btn.classList.remove("active"));
        event.currentTarget.classList.add("active");
    }
    const filesContainer=document.getElementById("filesContainer");
    filesContainer.innerHTML="";
    const files=USERS[currentUser].folders[folder];

    if(files.length === 0){
        const msg=document.createElement("div");
        msg.className="emptyMsg";
        msg.textContent="üìÇ ÊöÇÊó†Êñá‰ª∂";
        filesContainer.appendChild(msg);
        return;
    }

    files.forEach(f=>{
        const card=document.createElement("div");
        card.className="fileCard";
        const name=document.createElement("div");
        name.className="fileName";
        name.textContent=f.name;
        const btn=document.createElement("button");
        btn.className="fileBtn " + (f.status==="download" ? "download" : "disabled");
        btn.textContent=f.status==="download" ? "‰∏ãËΩΩ" : "ÂºÄÂèë‰∏≠";
        if(f.status==="download"){
            btn.onclick=()=>{window.open(`/files/${currentUser}/${folder}/${f.name}`,"_blank");};
        }
        card.appendChild(name);
        card.appendChild(btn);
        filesContainer.appendChild(card);
    });
}
</script>

</body>
</html>
